{% extends 'base/base.html' %}

{% block content %}

<div id="home">
	<div class="sidebar">


		<div class="options">
			<h4 class="filter-header">Daily Expense</h4>

			<div class="side-item">
				<i class="material-icons">dashboard</i>
				<a href="{% url 'home' %}" class="side-link">Dashboard</a>
			</div>
			<div class="side-item">
				<i class="material-icons">attach_money</i>
				<a href="{% url 'income_list'  %}" class="side-link">Income</a>
			</div>
			<div class="side-item">
				<i class="material-icons">money_off</i>
				<a href="{% url 'expense_home' %}" class="side-link">Expense</a>
			</div>
			<div class="side-item">
				<i class="material-icons">account_circle</i>
				<a href="#" class="side-link">Profile</a>
			</div>
		</div>
	</div>

	<div class="main-content">

		<div class="container mt-5">

			<div class="row">
				<div class="col-lg-12">

					{% block dash %}
					<div class="row">
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body">
									<h3 class="text-center">Today</h3>
									<br>
									<div class="d-flex justify-content-around">
										<p class="price_lg">{{todays_expense}}&#36;
											<i class="material-icons">arrow_downward</i>
										</p>
										<p class="price_lg">{{todays_income}}&#36;
											<i class="material-icons">arrow_upward</i>
										</p>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body">
									<h3>Past 7 Day's </h3>
									<br>
									<div class="d-flex justify-content-around">
										<p class="price_lg">{{week_expense}}&#36;
											<i class="material-icons">arrow_downward</i>
										</p>
										<p class="price_lg">{{week_income}}&#36;
											<i class="material-icons">arrow_upward</i>
										</p>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-3">
							<div class="card">
								<div class="card-body">
									<h3>Month </h3>
									<br>
									<div class="d-flex justify-content-around">
										<p class="price_lg">{{month_expense}}&#36;
											<i class="material-icons">arrow_downward</i>
										</p>
										<p class="price_lg">{{month_income}}&#36;
											<i class="material-icons">arrow_upward</i>
										</p>
									</div>
								</div>
							</div>
						</div>

						<div class="col-lg-3">
							<div class="card">
								<div class="card-body">
									<h3>Year </h3>
									<br>
									<div class="d-flex justify-content-around">
										<p class="price_lg">{{year_expense}}&#36;
											<i class="material-icons">arrow_downward</i>
										</p>
										<p class="price_lg">{{year_income}}&#36;
											<i class="material-icons">arrow_upward</i>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>


				<div class="row">
					<div class="col-lg-12">
						<hr>

						<h3>This Year</h3>

						<canvas id="myChart" width="1024" height="400"></canvas>

						{% for i in group_by_month %}

						<p>{{i.month | date}}</p>
						<p>{{i.total}}</p>

						{% endfor %}

					</div>
				</div>

				

				{% endblock %}

			</div>
		</div>

	</div>
</div>
</div>


{% endblock %}

{% block js %}

<script>
	var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>

{% endblock %}